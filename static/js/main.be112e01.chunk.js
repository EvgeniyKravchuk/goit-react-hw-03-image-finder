(this["webpackJsonpcreate-react-app-webpack-bundle"]=this["webpackJsonpcreate-react-app-webpack-bundle"]||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var r,a,o,c,i,s,l=n(0),d=n.n(l),u=n(9),p=n.n(u),h=n(5),b=n(6),f=n(8),j=n(7),m=n(3),g=n(4),x=g.a.div(r||(r=Object(m.a)(["\n  width: 1400px;\n\n  margin-left: auto;\n  margin-right: auto;\n\n  background: #ffffff;\n\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n"]))),O=g.a.section(a||(a=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: white;\n\n  padding: 10px;\n"]))),v=g.a.header(o||(o=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: #18166b;\n\n  padding: 10px;\n"]))),y=g.a.form(c||(c=Object(m.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]))),w=g.a.input(i||(i=Object(m.a)(["\n  width: 400px;\n  height: 40px;\n\n  font-size: 20px;\n  font-weight: 500;\n\n  border-bottom-left-radius: 5px;\n  border-top-left-radius: 5px;\n\n  padding: 5px;\n\n  border: none;\n\n  &:focus {\n    outline: none;\n    background-color: #cdcdfd;\n    & + button {\n    }\n  }\n"]))),k=g.a.button(s||(s=Object(m.a)(["\n  width: 40px;\n  height: 40px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: white;\n\n  border: none;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  border-left: 1px solid #18166b;\n\n  cursor: pointer;\n"]))),S=n(14),M=n(1);function L(e){var t=e.onSubmit;return Object(M.jsx)(v,{children:Object(M.jsxs)(y,{onSubmit:t,name:"search",children:[Object(M.jsx)(w,{name:"search",type:"text",autocomplete:"off",autoFocus:!0,placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430"}),Object(M.jsx)(k,{type:"submit",children:Object(M.jsx)(S.a,{})})]})})}var I,E,A,U,C,D,N=n(11),B=g.a.li(I||(I=Object(m.a)(["\n  width: 330px;\n  height: 200px;\n  margin-bottom: 10px;\n"]))),q=g.a.img(E||(E=Object(m.a)(["\n  width: 100%;\n  height: 100%;\n"]))),P=function(e){Object(f.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={response:[],error:null},e.fetchImagesByName=function(){var t=e.props,n=t.search,r=t.page,a="\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0439 \u043f\u043e \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u043c\u0443 \u0441\u043b\u043e\u0432\u0443 ".concat(n," \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e");return fetch("https://pixabay.com/api/?q=".concat(n,"&page=").concat(r,"&key=").concat("22542197-803b3827949c8e03dddadbe4d","&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.json()})).then((function(t){return 0===t.hits.length?Promise.reject(new Error(a)):e.setState((function(e){return{response:[].concat(Object(N.a)(e.response),Object(N.a)(t.hits))}}))})).catch((function(e){return alert(e.message)})).finally((function(){e.props.hideLoader()}))},e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=document.querySelector("ul"),t=this.props.openModal;this.fetchImagesByName(),e.addEventListener("click",t)}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.search,a=n.page;e.search!==r&&(this.setState({response:[]}),this.fetchImagesByName()),e.page!==a&&this.fetchImagesByName().then(this.scroll)}},{key:"componentWillUnmount",value:function(){var e=document.querySelector("ul"),t=this.props.openModal;e.removeEventListener("click",t)}},{key:"render",value:function(){return this.state.response.map((function(e){var t=e.id,n=e.webformatURL,r=e.tags,a=e.largeImageURL;return Object(M.jsx)(B,{children:Object(M.jsx)(q,{src:n,alt:r,"data-big_image":a})},t)}))}}]),n}(l.Component),_=g.a.ul(A||(A=Object(m.a)(["\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  flex-wrap: wrap;\n"]))),z=g.a.button(U||(U=Object(m.a)(["\n  width: 200px;\n  height: 40px;\n\n  font-size: 26px;\n  font-weight: 600;\n\n  border-radius: 5px;\n  border: none;\n\n  cursor: pointer;\n\n  color: white;\n  background-color: #18166b;\n"])));function R(e){var t=e.onClick;return Object(M.jsxs)(O,{children:[Object(M.jsx)(z,{type:"button",onClick:t,children:"\u0415\u0449\u0435..."}),";"]})}var F=g.a.div(C||(C=Object(m.a)(["\n  width: 100vw;\n  height: 100vh;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background: rgba(0, 0, 0, 0.7);\n"]))),J=g.a.img(D||(D=Object(m.a)(["\n  width: 800px;\n  height: auto;\n\n  opacity: 1;\n"]))),T=document.querySelector("#modal-root"),W=function(e){Object(f.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).ref=d.a.createRef(),e}return Object(b.a)(n,[{key:"componentDidMount",value:function(){this.ref.current.addEventListener("click",this.props.closeModal),window.addEventListener("keydown",this.props.closeModal)}},{key:"componentWillUnmount",value:function(){this.ref.current.removeEventListener("click",this.props.closeModal),window.removeEventListener("keydown",this.props.closeModal)}},{key:"render",value:function(){return Object(u.createPortal)(Object(M.jsx)(F,{ref:this.ref,children:Object(M.jsx)(J,{src:this.props.url,alt:""})}),T)}}]),n}(l.Component),G=function(e){Object(f.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={page:1,modalUrl:"",modalIsOpen:!1},e.scroll=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.increasePage=function(){e.setState((function(e){return{page:e.page+1}}))},e.openModal=function(t){"IMG"===t.target.nodeName&&e.setState({modalIsOpen:!0,modalUrl:t.target.dataset.big_image})},e.closeModal=function(t){"DIV"!==t.target.nodeName&&"Escape"!==t.code||e.setState({modalIsOpen:!1})},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.state,t=e.modalIsOpen,n=e.modalUrl,r=e.page,a=this.props,o=a.search,c=a.hideLoader;return Object(M.jsxs)(M.Fragment,{children:[Object(M.jsx)(O,{children:Object(M.jsx)(_,{children:Object(M.jsx)(P,{openModal:this.openModal,hideLoader:c,search:o,page:r})})}),Object(M.jsx)(R,{onClick:this.increasePage})," ",t&&Object(M.jsx)(W,{url:n,closeModal:this.closeModal})]})}}]),n}(l.Component),H=n(13),V=n.n(H);function K(){return Object(M.jsxs)(O,{children:[Object(M.jsx)(V.a,{type:"ThreeDots",color:"#18166b",height:80,width:80}),";"]})}var Q=function(e){Object(f.a)(n,e);var t=Object(j.a)(n);function n(){var e;Object(h.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={search:"",loaderAreShown:!1},e.handleSubmit=function(t){var n=t.target[0].value;e.setState((function(e){return{loaderAreShown:!0}})),t.preventDefault(),""!==n.trim()?(e.setState({search:n}),t.target[0].value=""):alert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043b\u044e\u0447\u0435\u0432\u043e\u0435 \u0441\u043b\u043e\u0432\u043e \u0434\u043b\u044f \u043f\u043e\u0438\u0441\u043a\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043e\u043a")},e.showLoader=function(){e.setState((function(e){return{loaderAreShown:!0}}))},e.hideLoader=function(){e.setState((function(e){return{loaderAreShown:!1}}))},e}return Object(b.a)(n,[{key:"render",value:function(){var e=this.state,t=e.search,n=e.loaderAreShown,r=""===this.state.search;return Object(M.jsxs)(x,{children:[Object(M.jsx)(L,{onSubmit:this.handleSubmit}),n&&Object(M.jsx)(K,{}),!r&&Object(M.jsx)(G,{search:t,hideLoader:this.hideLoader})]})}}]),n}(l.Component);n(44);p.a.render(Object(M.jsx)(d.a.StrictMode,{children:Object(M.jsx)(Q,{})}),document.getElementById("root"))}},[[45,1,2]]]);
//# sourceMappingURL=main.be112e01.chunk.js.map