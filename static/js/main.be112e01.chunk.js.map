{"version":3,"sources":["components/General/General.styled.jsx","components/Searchbar/Searchbar.styled.jsx","components/Searchbar/Searchbar.jsx","components/ImageGalleryItem/ImageGalleryItem.styled.jsx","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.styled.jsx","components/LoadMoreButton/LoadMoreButton.styled.jsx","components/LoadMoreButton/LoadMoreButton.jsx","components/Modal/Modal.styled.jsx","components/Modal/Modal.jsx","components/ImageGallery/ImageGallery.jsx","components/Loader/Loader.jsx","App.js","index.js"],"names":["Wrapper","styled","div","Section","section","Header","header","Form","form","Input","input","Button","button","Searchbar","onSubmit","name","type","autocomplete","autoFocus","placeholder","Item","li","Image","img","ImageGalleryItem","state","response","error","fetchImagesByName","props","search","page","errorMessage","fetch","then","json","data","hits","length","Promise","reject","Error","setState","prevState","catch","alert","message","finally","hideLoader","list","document","querySelector","openModal","this","addEventListener","prevProps","scroll","removeEventListener","map","item","id","webformatURL","tags","largeImageURL","src","alt","Component","List","ul","Btn","LoadMoreButton","onClick","Backdrop","modalPortal","Modal","ref","React","createRef","current","closeModal","window","createPortal","url","ImageGallery","modalUrl","modalIsOpen","scrollTo","top","documentElement","scrollHeight","behavior","increasePage","evt","target","nodeName","dataset","big_image","code","Loaders","color","height","width","App","loaderAreShown","handleSubmit","inputValue","value","preventDefault","trim","showLoader","searchCheck","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.be112e01.chunk.js","sourcesContent":["import styled from \"@emotion/styled\";\n\nexport const Wrapper = styled.div`\n  width: 1400px;\n\n  margin-left: auto;\n  margin-right: auto;\n\n  background: #ffffff;\n\n  box-shadow: 0 14px 28px rgba(0, 0, 0, 0.25), 0 10px 10px rgba(0, 0, 0, 0.22);\n`;\n\nexport const Section = styled.section`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: white;\n\n  padding: 10px;\n`;\n","import styled from \"@emotion/styled\";\n\nexport const Header = styled.header`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: #18166b;\n\n  padding: 10px;\n`;\n\nexport const Form = styled.form`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n`;\n\nexport const Input = styled.input`\n  width: 400px;\n  height: 40px;\n\n  font-size: 20px;\n  font-weight: 500;\n\n  border-bottom-left-radius: 5px;\n  border-top-left-radius: 5px;\n\n  padding: 5px;\n\n  border: none;\n\n  &:focus {\n    outline: none;\n    background-color: #cdcdfd;\n    & + button {\n    }\n  }\n`;\n\nexport const Button = styled.button`\n  width: 40px;\n  height: 40px;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  background-color: white;\n\n  border: none;\n  border-top-right-radius: 5px;\n  border-bottom-right-radius: 5px;\n  border-left: 1px solid #18166b;\n\n  cursor: pointer;\n`;\n","import PropTypes from \"prop-types\";\nimport { Form, Input, Header, Button } from \"./Searchbar.styled\";\nimport { FcSearch } from \"react-icons/fc\";\n\nexport default function Searchbar({ onSubmit }) {\n  return (\n    <Header>\n      <Form onSubmit={onSubmit} name=\"search\">\n        <Input\n          name=\"search\"\n          type=\"text\"\n          autocomplete=\"off\"\n          autoFocus\n          placeholder=\"Введите название для поиска\"\n        />\n        <Button type=\"submit\">\n          <FcSearch />\n        </Button>\n      </Form>\n    </Header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const Item = styled.li`\n  width: 330px;\n  height: 200px;\n  margin-bottom: 10px;\n`;\n\nexport const Image = styled.img`\n  width: 100%;\n  height: 100%;\n`;\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { Item, Image } from \"./ImageGalleryItem.styled\";\n\nexport default class ImageGalleryItem extends Component {\n  state = {\n    response: [],\n    error: null,\n  };\n\n  componentDidMount() {\n    const list = document.querySelector(\"ul\");\n    const { openModal } = this.props;\n\n    this.fetchImagesByName();\n\n    list.addEventListener(\"click\", openModal);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { search, page } = this.props;\n\n    if (prevProps.search !== search) {\n      this.setState({\n        response: [],\n      });\n\n      this.fetchImagesByName();\n    }\n\n    if (prevProps.page !== page) {\n      this.fetchImagesByName().then(this.scroll);\n    }\n  }\n\n  componentWillUnmount() {\n    const list = document.querySelector(\"ul\");\n    const { openModal } = this.props;\n\n    list.removeEventListener(\"click\", openModal);\n  }\n\n  fetchImagesByName = () => {\n    const API_KEY = \"22542197-803b3827949c8e03dddadbe4d\";\n    const { search, page } = this.props;\n    const errorMessage = `Изображений по ключевому слову ${search} не найдено`;\n\n    return fetch(\n      `https://pixabay.com/api/?q=${search}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`\n    )\n      .then((response) => {\n        return response.json();\n      })\n      .then((data) => {\n        if (data.hits.length === 0) {\n          return Promise.reject(new Error(errorMessage));\n        }\n        return this.setState((prevState) => ({\n          response: [...prevState.response, ...data.hits],\n        }));\n      })\n      .catch((error) => alert(error.message))\n      .finally(() => {\n        this.props.hideLoader();\n      });\n  };\n\n  render() {\n    return this.state.response.map((item) => {\n      const { id, webformatURL, tags, largeImageURL } = item;\n\n      return (\n        <Item key={id}>\n          <Image src={webformatURL} alt={tags} data-big_image={largeImageURL} />\n        </Item>\n      );\n    });\n  }\n}\n\nImageGalleryItem.propTypes = {\n  hideLoader: PropTypes.func.isRequired,\n  openModal: PropTypes.func.isRequired,\n  page: PropTypes.number.isRequired,\n  search: PropTypes.string.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const List = styled.ul`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  flex-wrap: wrap;\n`;\n","import styled from \"@emotion/styled\";\n\nexport const Btn = styled.button`\n  width: 200px;\n  height: 40px;\n\n  font-size: 26px;\n  font-weight: 600;\n\n  border-radius: 5px;\n  border: none;\n\n  cursor: pointer;\n\n  color: white;\n  background-color: #18166b;\n`;\n","import PropTypes from \"prop-types\";\nimport { Btn } from \"./LoadMoreButton.styled\";\nimport { Section } from \"../General/General.styled\";\n\nexport default function LoadMoreButton({ onClick }) {\n  return (\n    <Section>\n      <Btn type=\"button\" onClick={onClick}>\n        Еще...\n      </Btn>\n      ;\n    </Section>\n  );\n}\n\nLoadMoreButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n","import styled from \"@emotion/styled\";\n\nexport const Backdrop = styled.div`\n  width: 100vw;\n  height: 100vh;\n\n  position: fixed;\n  top: 0;\n  left: 0;\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  background: rgba(0, 0, 0, 0.7);\n`;\n\nexport const Image = styled.img`\n  width: 800px;\n  height: auto;\n\n  opacity: 1;\n`;\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { Backdrop, Image } from \"./Modal.styled\";\n\nconst modalPortal = document.querySelector(\"#modal-root\");\n\nexport default class Modal extends Component {\n  ref = React.createRef();\n\n  componentDidMount() {\n    this.ref.current.addEventListener(\"click\", this.props.closeModal);\n    window.addEventListener(\"keydown\", this.props.closeModal);\n  }\n\n  componentWillUnmount() {\n    this.ref.current.removeEventListener(\"click\", this.props.closeModal);\n    window.removeEventListener(\"keydown\", this.props.closeModal);\n  }\n\n  render() {\n    return createPortal(\n      <Backdrop ref={this.ref}>\n        <Image src={this.props.url} alt=\"\" />\n      </Backdrop>,\n      modalPortal\n    );\n  }\n}\n\nModal.propTypes = {\n  closeModal: PropTypes.func.isRequired,\n  url: PropTypes.string.isRequired,\n};\n","import PropTypes from \"prop-types\";\nimport React, { Component } from \"react\";\nimport ImageGalleryItem from \"../ImageGalleryItem/ImageGalleryItem\";\nimport { List } from \"./ImageGallery.styled\";\nimport { Section } from \"../General/General.styled\";\nimport LoadMoreButton from \"../LoadMoreButton/LoadMoreButton\";\nimport Modal from \"../Modal/Modal\";\n\nexport default class ImageGallery extends Component {\n  state = {\n    page: 1,\n    modalUrl: \"\",\n    modalIsOpen: false,\n  };\n\n  scroll = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: \"smooth\",\n    });\n  };\n\n  increasePage = () => {\n    this.setState((prevState) => ({ page: prevState.page + 1 }));\n  };\n\n  openModal = (evt) => {\n    if (evt.target.nodeName === \"IMG\") {\n      this.setState({\n        modalIsOpen: true,\n        modalUrl: evt.target.dataset.big_image,\n      });\n    }\n  };\n\n  closeModal = (evt) => {\n    if (evt.target.nodeName === \"DIV\" || evt.code === \"Escape\") {\n      this.setState({\n        modalIsOpen: false,\n      });\n    }\n  };\n\n  render() {\n    const { modalIsOpen, modalUrl, page } = this.state;\n    const { search, hideLoader } = this.props;\n\n    return (\n      <>\n        <Section>\n          <List>\n            <ImageGalleryItem\n              openModal={this.openModal}\n              hideLoader={hideLoader}\n              search={search}\n              page={page}\n            />\n          </List>\n        </Section>\n        <LoadMoreButton onClick={this.increasePage} />{\" \"}\n        {modalIsOpen && <Modal url={modalUrl} closeModal={this.closeModal} />}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  hideLoader: PropTypes.func.isRequired,\n  search: PropTypes.string.isRequired,\n};\n","import Loader from \"react-loader-spinner\";\nimport { Section } from \"../General/General.styled\";\n\nexport default function Loaders() {\n  return (\n    <Section>\n      <Loader type=\"ThreeDots\" color=\"#18166b\" height={80} width={80} />;\n    </Section>\n  );\n}\n","import React, { Component } from \"react\";\nimport { Wrapper } from \"./components/General/General.styled\";\nimport Searchbar from \"./components/Searchbar/Searchbar\";\nimport ImageGallery from \"./components/ImageGallery/ImageGallery\";\nimport Loaders from \"./components/Loader/Loader\";\n\nexport default class App extends Component {\n  state = {\n    search: \"\",\n    loaderAreShown: false,\n  };\n\n  handleSubmit = (evt) => {\n    const inputValue = evt.target[0].value;\n    this.setState((prevState) => ({\n      loaderAreShown: true,\n    }));\n\n    evt.preventDefault();\n\n    if (inputValue.trim() === \"\") {\n      alert(\"Введите ключевое слово для поиска картинок\");\n      return;\n    }\n\n    this.setState({ search: inputValue });\n    evt.target[0].value = \"\";\n  };\n\n  showLoader = () => {\n    this.setState((prevState) => ({\n      loaderAreShown: true,\n    }));\n  };\n\n  hideLoader = () => {\n    this.setState((prevState) => ({\n      loaderAreShown: false,\n    }));\n  };\n\n  render() {\n    const { search, loaderAreShown } = this.state;\n    const searchCheck = this.state.search === \"\";\n\n    return (\n      <Wrapper>\n        <Searchbar onSubmit={this.handleSubmit} />\n        {loaderAreShown && <Loaders />}\n        {!searchCheck && (\n          <ImageGallery search={search} hideLoader={this.hideLoader} />\n        )}\n      </Wrapper>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}